\DeclareDocumentCommand \foo { m o m } {%
    arg 1 = #1 , arg 2 =  #2 arg3 = #3 }

\foo{mandatory}[optional]{mandatory}

\DeclareDocumentCommand \foobar { m m m } {
    arg 1 = #1 , arg 2 =  #2 arg3 = #3 }

\foobar{A}{B}{C}

\foobar ABC

\DeclareDocumentCommand \chapter { s o m }
{
\IfBooleanTF {#1}
  { \typesetnormalchapter {#2} {#3} }
  { \typesetstarchapter {#3} }
}
\DeclareDocumentCommand\test{ s m }{
\IfBooleanTF{#1}
  {\MakeTextUppercase{#2}}
  {\MakeTextLowercase{#2}}
}
\test{This is some text}
\test*{This is SOME test}

\DeclareDocumentCommand\test{ s +m +v }{
\IfBooleanTF{#1}
  {\MakeTextUppercase{#3}}
  {\MakeTextLowercase{#2}}
 \par \leavevmode
  #3
}
\RaggedRight

\test*{This is SOME test\par}{\text
                                      \othercommands
                                      \or \a \full \macro}
