


%  \input{./sections/acronyms}
%  \input{./sections/boxesandglue}


% \end{document}

%  \input{./sections/introduction}
%  \input{./sections/languages}
%  \input{./languages/middle-eastern-scripts}
%  \input{./languages/modern-scripts}
%  \input{./languages/south-east-asian-scripts}
%  \input{south-asian-scripts}

%  \input{./sections/symbols}


%  \part{Graphics}
%  \input{./sections/graphics}
%  \input{./sections/wrapfig-02}
%  \input{./sections/pericula}
%  \input{./sections/subfigure}
%  \input{./sections/long-figures}
%  \input{./sections/sideways}
%  \input{./sections/twowomenreverse}
%  \input{./sections/twowomen}
%  \input{./sections/kroll}
%  \input{./sections/bache}
%  \input{./sections/elgreco.tex}
%  \input{./sections/captions}
%  \input{./sections/captionsandothers}
%  \input{./sections/rulesandleaders}

%  \input{./sections/macros}

%  ^^A\input{./languages/east-asian-scripts}


% \end{document}



%  \input{./languages/languages-list}

%  \input{./sections/document-divisions}

%  \part{Visualizations and Plotting}
%  \input{./sections/pictureenvironment}
%  \input{./sections/tikz}
% 

%  \end{document}

% ^^A \input{./sections/numbers}

% ^^A \input{./sections/generalsettings}

%  \part{The Structural Elements of Documents}
%
%\end{document}




%\end{document}
%  \input{./sections/maths}
% 



%

%

%  \input{./sections/lowerlevelheadings}


% 
%
%  \part{THE TYPESETTING ENGINES}
% 

%  \input{./sections/charting01}
%
%  %  \part{Programming Topics}
%  \input{./sections/grouping}

%  \input{./sections/expandafter} 
%  \input{./sections/futurelet}
%  \input{./sections/datastructures}

%  \input{./sections/io}
%  \input{./sections/classes}
%  \input{./sections/keyvalues}
%  \input{./sections/pgfmanual-en-pgfkeys}
%  \input{./sections/colors}
%  \input{./sections/dates}
%  \input{./sections/codingstyle}
%  \input{./sections/OTR}


%  \part{The LaTeX2e Kernel}
%
%  \input{./sections/latexkernel}
%  \input{./sections/kernel-ltspace}
%  \input{./sections/kernel-ltfloat.tex} 
%  \input{./sections/kernel-ltlists}
%  \input{./sections/kernel-N-ltlength.tex}
%
%	\part{The Standard Classes}
%  \input{./sections/book.cls.tex}
%  \input{./sections/pages}
%  \input{./sections/bibliographies}
% \fi

%  
%\iffalse
%   \includepdf[pages=1]{grid.pdf}
%\fi
%  \iffalse
%  \@specialfalse
%  \input{./styles/style01}
%  \input{./styles/style02}
%  \input{./styles/style04}
%  \input{./styles/style05}
%  \input{./styles/style06}
%  \input{./styles/style07}
%  \input{./styles/style08}
%  \input{./styles/style09}
%  \input{./styles/style10}
%  \input{./styles/style11}
%  \input{./styles/style12}^^A
%  \input{./styles/style15}^^A
%  \input{./styles/style18}^^A
%  \input{./styles/style19}^^A
%   \input{./styles/style20}^^A
%  \input{./styles/style20a}^^A
%  \input{./styles/style21}
%  \input{./styles/style22}
%  \input{./styles/style23}
%  \input{./styles/style24}^^A
%   \input{./styles/style25}^^A
%   \input{./styles/style26}^^A
%   \input{./styles/style27}^^A
%   \input{./styles/style28}^^A
%   \input{./styles/style29}^^A
%   \input{./styles/style30}^^A
%   \input{./styles/style31}^^A
%   \input{./styles/style32}^^A
%   \input{./styles/style33}^^A
%   \input{./styles/style34}^^A
%   \input{./styles/style35}^^A
%   \input{./styles/style36}^^A
%   \input{./styles/style37}^^A
%   \input{./styles/style38}^^A
%   \input{./styles/style39}^^A
%   \input{./styles/versochapter}^^A
%   ^^A\input{./styles/style41}^^A
%   \input{./styles/style42}^^A
%   \input{./styles/style43}^^A
%   \input{./styles/style50}
%  \input{./styles/style52}
%  \input{./styles/style54}
%  
%  \fi

%    \begin{macrocode}
%  \newcommand{\indexcommand}[2][]{%
%    \edef\sanitized{\expandafter\sanitize\string#2!!!}%
%    \def\first@arg{#1}%
%    \ifx\first@arg\@empty
%      \expandafter\index\expandafter{\sanitized=\string\verb+\string#2+}%
%    \else
%      \expandafter\index\expandafter{\sanitized=\string\verb+\string#2+ (#1)}%
%    \fi


% {drawmaybe}
%   Borders for elements are specified either individually per side, or in a short form specifying
%   the same width for all sides. When the short form is used it will set the width of all sides,
%   so we do not really need to check for the short form.
%   
%    \begin{macrocode}
\gdef\tempcmd@cx{}% 
\newcounter{draw}\setcounter{draw}{1}
\gdef\drawmaybe#1{%
    \setcounter{draw}{0}
    \expandafter\ifdim\csname#1bordertopwidth\endcsname>0pt \addtocounter{draw}{1}\fi
    \expandafter\ifdim\csname#1borderrightwidth\endcsname>0pt \addtocounter{draw}{1}\fi
    \expandafter\ifdim\csname#1borderbottomwidth\endcsname>0pt \addtocounter{draw}{1}\fi
    \expandafter\ifdim\csname#1borderleftwidth\endcsname>0pt\addtocounter{draw}{1}\fi
     \expandafter%
     \ifnum\thedraw>0
           \gdef\tempcmd@cx{draw}%
      \else
           \gdef\tempcmd@cx{}%
      \fi
}
       
%   
%
%    \end{macrocode}
% 
%
%  Define some fancy border styles to abstract border styles
%  \#1  rulewidth
%    \begin{macrocode}
\ExplSyntaxOn
\newcommand\phd@rule[2][chapter]{%
\iffalse
          %\color{\rulebottomcolor}%
          \color{blue}
           %\edef\tempa{\csname#1_border_bottom_style\endcsname}
           \edef\tempa{solid} %TO FIX
           \edef\tempb{double}
           \edef\tempc{solid}
           \edef\tempd{dashed}
           \edef\tempe{dotted}
           \edef\tempf{double dotted}
           \edef\tempg{asterisk}
            \edef\temph{double asterisk}
           % solid
           \ifx\tempa\tempc 
              \hrule\@height\fboxrulebottom
           \fi  
           % double
           \ifx\tempa\tempb% 
              \hrule\@height\fboxrulebottom%thickness of rule
                  \@width\dimexpr(\totalboxwidth+8pt)\relax%
              \vskip1pt%
              \hrule\@height\fboxrulebottom\relax
           \fi    
          % dotted
           \ifx\tempa\tempe\nointerlineskip% 
                \hbox to \totalboxwidth{\xleaders\hbox{.}\hfill\kern\z@}%a
           \fi  
           % double dotted
           \ifx\tempa\tempf\nointerlineskip% 
                \hbox to \totalboxwidth{\cleaders\hbox{.}\hfill\kern\z@}%
                \vskip1pt\nointerlineskip%
                 \hbox to \totalboxwidth{\cleaders\hbox{.}\hfill\kern\z@}%
           \fi  
           % asterisk
            \ifx\tempa\tempg\nointerlineskip% 
                \hbox to \totalboxwidth{\cleaders\hbox{*}\hfill\kern\z@}%
           \fi  
            % double asterisk
            \ifx\tempa\temph\nointerlineskip% 
                \hbox to \totalboxwidth{\cleaders\hbox{\textasteriskcentered}\hfill\kern\z@}%
                \vskip1pt\nointerlineskip%
                \hbox to \totalboxwidth{\cleaders\hbox{\textasteriskcentered}\hfill\kern\z@}%
           \fi
\fi

                      
}       
\ExplSyntaxOff    
%    \end{macrocode}
%
%

%
% {phd@fbox}
%   Abbreviated framed box command, based on |\fbox|, but all borders are
%  accessible individually.
%  The definition is from the kernel modified for variable padding and border
%  widths. 
% 
%    \begin{macrocode}
\def\ruletopcolor{black}
\def\rulebottomcolor{black}
\def\ruleleftcolor{black}
\def\rulerightcolor{black}
%
\long\def\phd@fbox#1{%
  \leavevmode
    \setbox\@tempboxa\hbox {%
       \color@begingroup%
       \kern\fboxsepleft{-#1-}\kern\fboxsepright%
       \color@endgroup
       }%
   \edef\totalboxwidth{\expandafter\the\wd\@tempboxa}   
   \phd@frameb@x\relax}
%    \end{macrocode}
% 
%
% {framebox}
% Framed version of |\makebox|.
%    \begin{macrocode}
\def\phd@framebox{%
  \@ifnextchar(%)
    \phd@framepicbox{\@ifnextchar[\phd@framebox\phd@fbox}}
%    \end{macrocode}
% 
%
% {@framebox}
% Deal with optional arguments.
%    \begin{macrocode}
\def\phd@framebox[#1]{%
  \@ifnextchar[%]
    {\phd@iframebox[#1]}%
    {\phd@iframebox[#1][c]}}
%    \end{macrocode}
% 
%
% {@iframebox}
%    The handling the optional arguments.
%    In order to set the whole box, including the frame to the
%    specified dimension, we first determine that dimension
%    from the natural size of the text, |#3|.
%    calculated width.
%    \begin{macrocode}
\long\def\phd@iframebox[#1][#2]#3{%
  \leavevmode
  \@begin@tempboxa\hbox{#3}%
    \setlength\@tempdima{#1}%
    \setbox\@tempboxa\hb@xt@\@tempdima
         {\kern\fboxsep\csname bm@#2\endcsname\kern\fboxsep}%
    \@frameb@x{\kern-\fboxrule}%
   \@end@tempboxa%
  }
%    \end{macrocode}
% 
%
% {@frameb@x}
% Common part of |\framebox| and |\fbox|. |#1| is a negative kern
% in the |\framebox| case so that the vertical rules do not add to the
% width of the box.
%
%    \begin{macrocode}
\def\phd@frameb@x#1{%
  \@tempdima\fboxruletop
  \advance\@tempdima\fboxseptop
  \advance\@tempdima\dp\@tempboxa
  \hbox{%
    \lower\@tempdima\hbox{%
      \vbox{%
         \ifdim\fboxruletop>0pt 
%              \phd@rule{\totalboxwidth}%
           \fi   
           \color{blue}\hrule\@height\fboxruletop%toprule
               
            \hbox{%
              \bgroup%
              \ifdim\fboxruleleft>0pt%
                  \color{blue}%
                  \edef\tempa{\chapter_border_left_style}%
                  \edef\tempc{solid}%
                  \edef\tempb{double}%
                  \ifx\tempa\tempb%
                    \vrule\@width\fboxruleleft%
                    \kern1pt\vrule\@width\fboxruleleft%
                  \fi
                  \ifx\tempa\tempc%
                    \vrule\@width\fboxruleleft%
                  \fi
             \fi   
              \egroup%\fboxrule%leftrule
              #1%
              \vbox{%
                 \vskip\fboxseptop%toppadding
                  \box\@tempboxa
                  \vskip\fboxsepbottom}%bottompadding
                  #1%
                  \bgroup%
                  \edef\tempa{\chapterborderrightstyle}%
                  \edef\tempb{double}
                  \edef\tempc{solid}
                  \color{blue}%
                  \ifx\tempa\tempb%
                      \vrule\@width\fboxruleright%
                       \kern1pt%
                       \vrule\@width\fboxruleright%
                  \fi%
                  \ifx\tempa\tempc%
                       \vrule\@width\fboxruleright%
                  \fi%
                  \egroup 
            }%%
           \bgroup
             % \phd@rule{\totalboxwidth}%
           \egroup
           }%
           }%
        }%
}
%    \end{macrocode}
% 

%  
% {tocsectionpagefont@cx}
%    For convenience we define font setting commands for
%    the page number. We use \cs{setfont@cx}, which we have
%	defined earlier.
%  
%    \begin{macrocode}
%\ExplSyntaxOn
%\cs_new:Npn \tocsectionpagefont@cx {
%	\setfont@cx{\tocsectionpagefonteight@cx}
%  {\tocsectionpagefontfamily@cx}{\tocsectionpagefontsize@cx}
%  {\tocsectionpagefontshape@cx}\color{\tocsectionpagecolor@cx}
%}
%\ExplSyntaxOff
%    \end{macrocode}
% 

%    \expandafter\let\csname orig#1\expandafter\endcsname\csname#1\endcsname
%    \expandafter\let\csname #1\endcsname\relax
%restore
%  \expandafter\global\expandafter\let\csname#1#2\expandafter\endcsname%
%    \csname#2\endcsname
%  \expandafter\ global\expandafter\let\csname#2\expandafter\endcsname%
%    \csname orig#2\endcsname